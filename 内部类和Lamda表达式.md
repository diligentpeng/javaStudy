# 内部类
java中四中修饰符：

|属性 | public >| protected >| (default) >| private|
|:---|:---|:---|:---|:---|
|同一个类|Y|Y|Y|Y|
|同一个包(包括子类和非子类)|Y|Y|Y|NO|
|不同包子类|Y|Y|NO|NO|
|不同包非子类|Y|NO|NO|NO|


 ## 一 内部类分类：
 
   * 1：成员内部类
   * 2：局部内部类（包含匿名内部类）

### 1.1 成员内部类（定义在另一个类里面）
  * 1：格式：
```
  修饰符 class 外部类名称{  
               修饰符 class 内部类名称{  
                    //成员内部类的内容  
               }  
               //外部类内容  
          }
  ```
  
  **注意：内部类用外部类，随意访问（private都能访问），但是外部类用内部类，需要通过内部类的对象来访问**  
  
  ```
    例子
    public class Outer {
        private int num =10;
        class inter{
            public void show(){
                System.out.println(num);
            }
        }
     }
    class demo2{
        public static void main(String[] args) {
            Outer.inter obj = new Outer().new inter();
            obj.show();
        }
    }
```

  * 2：内部类的使用 
>   a；间接方式，在外部类的方法当中（new内部类的对象），使用内部类，然后在main中只是调用外部类的方法  
>   b：直接方式，格式：  外部类名称.内部类名 对象名 = new 外部类名称（）.new 内部类名称（）;此时，该对象就可以访问内部类了  
>  c：在内部类中使用与外部类重名成员变量，使用自己的可以直接使用或者this.变量名,使用外部类的Outer.this.变量名，不重名则可以直接使用外部的成员变量。

###  1.2局部内部类（定义在方法内部，只有所属方法才能使用它，出了这个方法就不能使用了）
* 1：格式
```
   修饰符 class 外部类名称{
          修饰符 返回值类型 外部方法名（参数列表）{
                 修饰符 class 内部类名称{
                      //成员内部类的内容
                 }
                 内部类名称 obj = new 内部类名称（）；
                 //obj就可以使用内部类了
            }
            //外部类内容
    }
```
* 2:针对不同类注意事项

> public > protected > (default) > private  
> a：外部类：public ，（default不写修饰符）  
> b：成员内部类：public，protected，（default），private  
> c：局部内部类，什么都不能写，但不同于（default），因为除了该方法外，什么地方都不能使用局部内部类

 3：局部内部类的final问题
 
 **局部内部类，如果希望访问所在方法的局部变量，那么这个局部变量必须是【有效final的】**  
 从java 8+开始，只要局部变量事实不变，那么final关键字可以省略 
 
 ```
 例子
 public class Outer {
    private int num =10;
    public void method(){
        int num2 = 20;
        //num2 = 30; 加上这句，就会报错
        class inter{
            public void show(){
                System.out.println(num);
                System.out.println(num2);
            }
        }
    }
}
```

## **三 匿名内部类**

**如果接口的实现类（或者父类的子类），只需使用唯一的一次，那么这种情况下就可以省略该类的定义，从而使用【匿名内部类】**

### 1：定义格式
```
父类名称 对象名 = new 父类名称（）{  //第一种多态
        //覆盖重写所有抽象方法
}; //此时分号不可省略
new 父类名称（）{  //第二种：直接通过new的对象使用该子类对象的方法
        //覆盖重写所有抽象方法
}.方法();

接口名称 对象名 = new 接口名称（）{
        //覆盖重写所有抽象方法
}; //此时分号不可省略
对象名.方法;(重写所有抽象方法)
```
### 2：解析“new 接口名{...}”

> a：new 代表创建对象的动作  
> b：接口名称就是匿名内部类需要实现的接口  
> c:{...}才是匿名内部类的内容  

### 3：注意事项
> * a：匿名对象类在创建对象时，只能使用唯一一次。如果想多次创建对象，就需要使用接口实现类了  
> * b：注意匿名对象和匿名对象类的区别  

